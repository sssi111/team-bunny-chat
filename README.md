# Team Bunny Chat

Чат с поддержкой множества комнат, построенная на основе RabbitMQ. Проект включает в себя серверную часть, веб-интерфейс и консольный клиент.

## Архитектура проекта

Проект состоит из трех основных компонентов:

1. **Сервер** (`/server`)
   - REST API для управления чатами и историей сообщений
   - Интеграция с RabbitMQ для обмена сообщениями
   - Хранение истории сообщений
   - Docker-контейнеризация

2. **GUI-клиент** (`/gui`)
   - Графический интерфейс на Go с использованием Fyne
   - Поддержка множества чат-комнат
   - Real-time обновление сообщений
   - Удобный пользовательский интерфейс

3. **CLI-клиент** (`/cli`)
   - Консольный интерфейс для работы с чатом
   - Поддержка команд для управления
   - Возможность переключения между чатами
   - Легковесное решение для быстрого доступа

## Быстрый старт

### Запуск сервера

```bash
cd server
docker-compose up -d    # Запуск RabbitMQ и сервера в Docker
```

Сервер будет доступен по адресу `http://localhost:8080`

### Запуск GUI-клиента

```bash
cd gui
./run.sh               # Запуск графического интерфейса
```

### Запуск CLI-клиента

```bash
cd cli
go run bin/main.go -user <имя_пользователя> -chat <название_чата>
```

## Требования

- Go 1.21 или выше
- Docker и Docker Compose для запуска сервера
- RabbitMQ (запускается автоматически в Docker)

## Конфигурация

### Сервер
- Порт API: 8080 (настраивается через переменные окружения)
- RabbitMQ: localhost:5672 (настраивается в docker-compose.yml)
- Поддерживаемые переменные окружения:
  - `SERVER_PORT` - порт сервера (по умолчанию 8080)
  - `RABBITMQ_URL` - адрес RabbitMQ
  - `DB_PATH` - путь к файлу базы данных

### Клиенты
- По умолчанию подключаются к localhost
- Поддерживают конфигурацию через командную строку
- Детальные настройки описаны в README каждого компонента

## API

Сервер предоставляет REST API для:
- Создания и управления чатами
- Получения истории сообщений
- Управления пользователями

Полная спецификация API доступна в файле `/server/openapi.yaml`

## Разработка

### Структура проекта
```
.
├── server/          # Серверная часть
├── gui/            # Графический клиент
└── cli/            # Консольный клиент
```

### Сборка

Каждый компонент может быть собран независимо. Инструкции по сборке находятся в соответствующих директориях.

## Тестирование

```bash
# Тестирование сервера
cd server && go test ./...

# Тестирование GUI
cd gui && go test ./...

# Тестирование CLI
cd cli && go test ./...
```

## Видео
https://disk.yandex.ru/i/kDbIGC8itB-Atw